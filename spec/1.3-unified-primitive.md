# 1.3 Unified Primitive Representation

**Phase**: 1 - Foundation
**Week**: 2
**Files**: `include/geode/core/primitive.h`, `src/core/scene.cpp`

## Purpose
Provide a common representation that works for both Gaussian splats and mesh vertices.

## Data Structure

```cpp
struct Primitive {
    vec3 position;           // 3D position
    mat3 covariance;         // 3x3 covariance matrix
    float alpha;             // Opacity [0-1]
    vec3 normal;             // Surface normal
    array<float, 48> sh;     // Optional SH coefficients
    PrimitiveType type;      // GAUSSIAN or MESH_VERTEX
};
```

## Conversion Rules

### Gaussian → Primitive
- Position: direct copy
- Covariance: from scale + rotation
- Alpha: from opacity field
- Normal: smallest eigenvector of covariance
- Type: GAUSSIAN

### Mesh Vertex → Primitive
- Position: vertex position
- Covariance: PCA of k-nearest neighbors
- Alpha: 1.0 (fully opaque)
- Normal: vertex/face normal
- Type: MESH_VERTEX

## Scene Class

### Methods
- `addPrimitive(prim)` - Add primitive to scene
- `computeBounds()` - Calculate bounding box
- `primitiveCount()` - Get number of primitives
- `clear()` - Remove all primitives

## Validation
- Gaussian scenes load without data loss
- Mesh scenes have valid covariance matrices
- Bounds are computed correctly
