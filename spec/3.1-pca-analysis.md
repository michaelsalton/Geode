# 3.1 PCA Analysis

**Phase**: 2 - Classification Metrics
**Week**: 4
**File**: `src/metrics/pca_analysis.cpp`

## Purpose
Measure geometric structure of clusters using Principal Component Analysis.

## Algorithm

1. **Center Points**: Subtract cluster centroid
2. **Covariance Matrix**: `C = (1/N) Σ (pᵢ - μ)(pᵢ - μ)ᵀ`
3. **Eigendecomposition**: Get λ₁ ≥ λ₂ ≥ λ₃
4. **Compute Metrics**

## Metrics

```cpp
struct PCAMetrics {
    float planarity;         // (λ₂ - λ₃) / λ₁
    float linearity;         // (λ₁ - λ₂) / λ₁
    float sphericity;        // λ₃ / λ₁
    float surface_variation; // λ₃ / (λ₁ + λ₂ + λ₃)
    vec3 eigenvalues;
    mat3 eigenvectors;
};
```

## Interpretation
- **Planarity ≈ 1.0**: Flat surface (wall, floor) → mesh-optimal
- **Linearity ≈ 1.0**: Line/edge structure
- **Sphericity ≈ 1.0**: Volumetric/chaotic → Gaussian-optimal

## Validation

### Synthetic Tests
- Perfect plane: P > 0.95, L ≈ 0.0
- Perfect line: L ≈ 1.0, P ≈ 0.0
- Perfect sphere: S ≈ 1.0, P < 0.1

## Dependencies
- `Eigen::SelfAdjointEigenSolver` for eigendecomposition

## Performance
- < 1ms per cluster
