# 4.2 Visualization Modes

**Phase**: 3 - Visualization
**Week**: 8
**File**: `src/viewer/visualization.cpp`

## Purpose
Multiple visualization modes for inspecting classification results and metrics.

## Color Mappings

### Classification Labels
- **Mesh-optimal**: Blue (cool)
- **Gaussian-optimal**: Orange (warm)
- **Uncertain**: Gray

### Confidence Gradient
- High confidence: Saturated color
- Low confidence: Desaturated/pale
- Interpolate based on confidence value

### Per-Metric Heat-Maps

| Metric | Low (Red) | High (Green) |
|--------|-----------|--------------|
| Planarity | 0.0 | 1.0 |
| Alpha Mean | 0.0 | 1.0 |
| Alpha Variance | 0.2 (high) | 0.0 (low) |
| Normal Coherence | 0.0 | 1.0 |

## UI Panel (ImGui)

```
Visualization Mode: [Dropdown]
  - Classification Labels
  - Confidence
  - Planarity
  - Alpha Mean
  - Alpha Variance
  - Normal Coherence

Color Range:
  Min: [Slider: 0.0 - 1.0]
  Max: [Slider: 0.0 - 1.0]

Show Cluster Boundaries: [Checkbox]
```

## Requirements
- Instant mode switching (no reloading)
- Color legend displayed
- Adjustable color mapping range

## Implementation
- Use Polyscope's `addColorQuantity()`
- Update colors on UI change
- Cache computed metrics

## Validation
- Colors correctly reflect labels
- Confidence gradient visible
- Heat-maps match metric values
