# 6.1 Final Polish

**Phase**: 5 - Polish & Documentation
**Week**: 12
**Files**: Various

## Purpose
Prepare module for release and integration into MAGMA pipeline.

## CLI Interface

### Commands
```bash
# Basic usage
./labeler input.ply --output labeled.json

# With visualization
./labeler input.obj --visualize

# Custom config
./labeler input.ply --config custom_thresholds.json

# Batch processing
./labeler --batch input_dir/ --output output_dir/
```

### Output Formats
- JSON: Classification results with metrics
- Colored PLY: Visual output with cluster colors
- CSV: Metrics table for analysis

## Code Cleanup

### Tasks
- Consistent naming conventions
- Remove debug prints and dead code
- Add comments to complex sections
- Format code consistently
- Remove TODOs or track in issues

## Documentation

### Required Documents
1. **README.md** (update existing)
   - Quick start guide
   - Build instructions
   - Usage examples

2. **docs/algorithm.md**
   - Mathematical description
   - Decision logic explanation
   - Metric formulas

3. **docs/api.md**
   - Public API documentation
   - Class/function reference
   - Code examples

4. **docs/threshold_tuning.md**
   - How to tune thresholds
   - Scene-specific recommendations
   - Troubleshooting guide

5. **docs/magma_integration.md**
   - How to integrate with MAGMA
   - API usage from Python/C++
   - Pipeline examples

## Library Packaging

### CMake Support
- Create `geode-config.cmake`
- Support `find_package(geode)`
- Install headers and library

### Build Options
- Static library: `libgeode.a`
- Shared library: `libgeode.so` (optional)
- Header-only option (future)

## Final Testing

### Checks
- All unit tests pass
- CLI handles all documented use cases
- Library links in external project
- Memory leak check (Valgrind/ASan)
- No compiler warnings (-Wall -Wextra)

## Validation Criteria
- Documentation complete and accurate
- CLI fully functional
- Library packaged properly
- No memory leaks
- Clean compilation
