# 3.4 Classification Logic

**Phase**: 2 - Classification Metrics
**Week**: 6
**File**: `src/classification/classifier.cpp`

## Purpose
Combine all metrics into a classification decision with confidence score.

## Decision Tree

```
IF (planarity > 0.7) AND
   (alpha_mean > 0.85) AND
   (alpha_variance < 0.1) AND
   (normal_coherence > 0.7)
THEN
    label = MESH_OPTIMAL
ELSE
    label = GAUSSIAN_OPTIMAL
```

## Threshold Configuration

```cpp
struct ClassificationConfig {
    float planarity_threshold = 0.7;
    float alpha_mean_threshold = 0.85;
    float alpha_variance_threshold = 0.1;
    float normal_coherence_threshold = 0.7;
};
```

## Confidence Score

Confidence = distance from decision boundary (normalized to [0, 1])

- Close to boundary: low confidence (< 0.5)
- Far from boundary: high confidence (> 0.8)

## Output

```cpp
struct ClassificationResult {
    ClusterLabel label;           // MESH_OPTIMAL / GAUSSIAN_OPTIMAL
    float confidence;             // [0, 1]
    ClusterMetrics metrics;       // All computed metrics
    uint32_t cluster_id;
};
```

## Configuration Loading
- Load thresholds from JSON config file
- Allow runtime threshold adjustment
- Provide default configuration

## Performance
- < 1 second for 1000 clusters

## Validation
- Synthetic plane → MESH_OPTIMAL, confidence > 0.8
- Synthetic fuzzy sphere → GAUSSIAN_OPTIMAL
